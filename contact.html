<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONTACT</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <!-- <link rel="stylesheet" href="./css/contact.css"> -->
</head>
<body class="contactPage">
<!-- ====================================
//// ヘッダー
//// ==================================== -->
    <header id="header">
        <h1 class="header__logoItem">
            <a href="./index.html">
                <img class="header__logo" src="./images/pc__tominaga-design-logo__header@2x.png"
                    alt="トミナガデザイン">
            </a>
        </h1>
        <div class="header__inner">
            <nav class="header__nav">
                <ul class="header__navList">
                    <li class="header__navItem"><a href="./index.html">TOP</a></li>
                    <li class="header__navItem"><a href="./concept.html">CONCEPT</a></li>
                    <li class="header__navItem"><a href="./works.html">WORKS</a></li>
                    <li class="header__navItem"><a href="./about.html">ABOUT</a></li>
                    <li class="header__navItem">
                        <a href="./contact.html">
                            <div class="header__contactBtn">
                                <!-- <span></span> -->
                                <p class="header__contactBtnText">CONTACT</p>
                            </div>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        <a href="https://www.instagram.com/kyohei.tominaga/" target="_blank">
            <ul class="fixMenu__list">
                <li class="fixMenu__item">
                    <p class="fixMenu__text">Instagram</p>
                </li>
                <li class="fixMenu__item">
                    <img class="fixMenu__logo" src="./images/Insta-logo--333@2x.png" alt="Instagram">
                </li>
            </ul>
        </a>
        <!-- 以下、ハンバーガーメニュー -->
        <div class="hamburger__back">
            <div class="hamburger">
                <span></span>
            </div>
        </div>
        <nav class="header__nav--sp">
            <div class="navBackCircle"></div>
            <div class="navBackSquare"></div>
            <ul class="header__navList--sp">
                <li class="header__navItem"><a href="./index.html">TOP</a></li>
                <li class="header__navItem"><a href="./concept.html">CONCEPT</a></li>
                <li class="header__navItem"><a href="./works.html">WORKS</a></li>
                <li class="header__navItem"><a href="./about.html">ABOUT</a></li>
                <li class="header__navItem">
                    <a href="./contact.html">
                        <div class="header__contactBtn">
                            <!-- <span></span> -->
                            <p class="header__contactBtnText">CONTACT</p>
                        </div>
                    </a>
                </li>
                <a href="https://www.instagram.com/kyohei.tominaga/" target="_blank">
                    <ul class="header__snsList--sp">
                        <li class="header__navItem--sp">Instagram</li>
                        <li class="header__snsItem--sp">
                            <img class="header__snsLogo--sp" src="./images/Insta-logo--333@2x.png" alt="Instagram">
                        </li>
                    </ul>
                </a>
            </ul>
        </nav>
    </header>
<!-- ====================================
//// メイン
//// ==================================== -->
    <main>

<!-- ====================================
//// CONTACT
//// ==================================== -->
        <div class="contact">
            <div class="contact__container">
                <!-- カードの装飾 -->
                <div class="contact__outerLine"></div>
                <div class="contact__innerLine"></div>
                <form 
                    class="contact__form" 
                    action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSc1DlPfce2EK9vCIAlAqQ0nOw4lMW5Lb0X01zc9V_81vxJkDw/formResponse"
                    method="post"
                    target="hidden__iframe"
                    onsubmit="submitted=true"
                >
                    <div class="form__title">
                        <h2 class="heading__contact">CONTACT</h2>
                        <!-- アンダーライン -->
                        <div class="underLine"></div>
                        <!-- ペンの装飾 -->
                        <div class="penIllust">
                            <img class="penIllust__img" src="./images/pen_illust.png" alt="ペンのイラスト">
                        </div>
                    </div>
                    <div class="contact__info">
                        <p class="contact__text">
                            各種依頼内容や相談したいこと、料金のご質問など、お気軽にご連絡ください。<br>
                            ２営業日以内に返信させていただきます。
                        </p>
                        <p class="insta__text">インスタグラムからもDMを受け付けておりますので、そちらもご利用ください。<br>
                            <a href="https://www.instagram.com/kyohei.tominaga/" target="_blank">Instagram [@kyohei.tominaga]</a>
                        </p>
                    </div>
                    <div class="contact__item">
                        <label class="contact__label" for="name">お名前</label>
                        <input class="contact__name" id="name" type="text" name="entry.1996875450" placeholder="山田 太郎" required="required" autocomplete="name">
                         <!-- <input class="contact__name" id="name" type="text" name="name" placeholder="山田 太郎" required="required" autocomplete="name"> -->
                    </div>
                    <div class="contact__item">
                        <label class="contact__label" for="mail">メールアドレス</label>
                        <input class="contact__mail" id="mail" type="email" name="entry.458354352" placeholder="aaa@xxx.com" required="required" autocomplete="email">
                    </div>
                    <div class="contact__item">
                        <label class="contact__label" for="content">お問い合わせ内容</label>
                        <textarea class="contact__content" id="content" type="text" name="entry.8332858" placeholder="お問い合わせ内容をご入力ください" required="required"></textarea>
                    </div>
                    <div class="contact__item">
                        <!-- <input class="contact__submit" type="submit" value="送信する"> -->
                        <button  class="contact__submit">送信する
                            <!-- ボタン上の右向き三角形 -->
                            <div class="triangle-right"></div>
                        </button>
                        
                    </div>
                </form>
            </div>
        </div>
    </main>
<!-- ====================================
//// フッター
//// ==================================== -->
    <footer>
        <div class="backcolor">
            <div class="footer__nav">
                <ul class="footer__navList">
                    <li class="footer__navItem"><a href="./index.html">TOP</a></li>
                    <li class="footer__navItem"><a href="./concept.html">CONCEPT</a></li>
                    <li class="footer__navItem"><a href="./works.html">WORKS</a></li>
                    <li class="footer__navItem"><a href="./about.html">ABOUT</a></li>
                    <li class="footer__navItem"><a href="./contact.html">CONTACT</a></li>
                </ul>
                <a href="https://www.instagram.com/kyohei.tominaga/" target="_blank">
                    <ul class="footer__snsList">
                        <li class="footer__snsItem">
                            <img class="footer__snsLogo" src="./images/insta-logo--white@2x.png" alt="Instagram">
                        </li>
                        <li class="footer__navItem">Instagram</li>
                    </ul>
                </a>
            </div>
            <div class="copyright">
                <p class="copyright__text">©︎TOMINAGA DESIGN.</p>
            </div>
        </div>
    </footer>

<!-- ====================================
//// Java Svript
//// ==================================== -->
    <!-- Jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript">
        let submitted = false;
    </script>
    <iframe
        name="hidden__iframe"
        id="hidden__iframe"
        style="display: none"
        onload="if(submitted){window.location='thanks.html';}"
    ></iframe>
        <!-- /// ====================================
    //// ペンのアクション
    //// ==================================== -->
    <script>
    //アンダーライン
    document.addEventListener("DOMContentLoaded", function() {
        // 1. 監視対象の要素をすべて取得
        const lineElements = document.querySelectorAll('.underLine');

        // 2. Observerのオプション設定
        const lineOptions = {
            root: null, // ビューポートを監視ルートとする
            rootMargin: '0px',
            threshold: 0.1 // 要素が10%見えたら交差と判定
        };

        // 3. Observerのコールバック関数を定義
        const lineObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                // 要素が交差した（画面内に入った）場合
                if (entry.isIntersecting) {
                    // アニメーションを起動するクラスを追加
                    entry.target.classList.add('is-visible');
                } else {
                    entry.target.classList.remove('is-visible');
                }
            });
        }, lineOptions);

        // 4. すべての要素の監視を開始
        lineElements.forEach(element => {
            lineObserver.observe(element);
        });
    });

    //ペンの動き
    document.addEventListener("DOMContentLoaded", function() {
        // 1. 監視対象の要素をすべて取得
        const elements = document.querySelectorAll('.penIllust');

        // 2. Observerのオプション設定
        const options = {
            root: null, // ビューポートを監視ルートとする
            rootMargin: '0px',
            threshold: 0.1 // 要素が10%見えたら交差と判定
        };

        // 3. Observerのコールバック関数を定義
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                // 要素が交差した（画面内に入った）場合
                if (entry.isIntersecting) {
                    // アニメーションを起動するクラスを追加
                    entry.target.classList.add('is-visible');
                } else {
                    entry.target.classList.remove('is-visible');
            }
                    // アニメーションは一度だけで良いため、監視を終了する
                    // observer.unobserve(entry.target);
                // }
            });
        }, options);

        // 4. すべての要素の監視を開始
        elements.forEach(element => {
            observer.observe(element);
        });
    });

    //// ====================================
    //// ハンバーガーメニュー
    //// ====================================
    $(function() {
        $(".hamburger__back").click(function() {
            $(".hamburger").toggleClass("open");
            // $(".header__nav--sp").fadeToggle({
            //     duration: 1, // 瞬時に表示/非表示を切り替え（アニメーションはCSSに任せるため）
            //     complete: function() {
            //         // 2. fadeToggleが完了したら、アニメーションクラスを切り替える
            //         $(this).toggleClass('is-active'); 
            //     }
            // });

            var $nav = $(".header__nav--sp");

            if ($nav.hasClass('is-active')) {
                // --- 閉じる時 ---
                
                // 1. is-closing を付けて、上に消えるアニメーションを開始させる
                $nav.addClass('is-closing'); 
                
                // 2. アニメーション完了を待ってから非表示にし、is-active/is-closingを外す
                setTimeout(function() {
                    $nav.removeClass('is-active is-closing').hide();
                }, 500); // アニメーション時間 (0.5s + 0.2s) に合わせる

            } else {
                // --- 開く時 ---
                
                // 1. is-closing が残っている場合は念のため削除
                $nav.removeClass('is-closing'); 
                
                // 2. 表示し、斜め出現アニメーションを開始させる（display: block;）
                $nav.show();
                // $nav.addClass('is-active');
                // 3. ブラウザが show() を描画するのを待つ (リフローを強制)
                setTimeout(function() {
                    // 4. アニメーションを開始
                    $nav.addClass('is-active');
                }, 10); // 10ms程度の短い遅延を入れる
            
            //上記の３の代わりに、下記を挟んでもうまくいった
            //     $(".header__nav--sp").fadeToggle({
            //     duration: 1, // 瞬時に表示/非表示を切り替え（アニメーションはCSSに任せるため）
            //     complete: function() {
            //         // 2. fadeToggleが完了したら、アニメーションクラスを切り替える
            //         $(this).toggleClass('is-active'); 
            //     }
            // });
            }
        });
    });
    </script>
</body>
</html>